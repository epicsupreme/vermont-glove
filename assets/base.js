!function(){var t,e={7807:function(t,e,n){"use strict";var i=n(4306),r=n(8764),o=n(1711),a=n(5931);function d(t){var e=[];return t.items&&t.items.forEach((function(n){var i,r=n.featured_image.url,o=n.price/100,a=t.items.map((function(t){var e;return(null===(e=t.properties)||void 0===e?void 0:e._cartParent)===n.key&&{title:t.product_title,key:t.key,price:t.price/100,id:t.variant_id,options:t.options_with_values,image:t.featured_image.url,qty:t.quantity,properties:t.properties,remove:function(){s(this.key)},update:function(t){u(this.key,parseInt(t))}}})).filter((function(t){return t}));null!==(i=n.properties)&&void 0!==i&&i._cartParent||e.push({title:n.product_title,key:n.key,price:o,id:n.variant_id,options:n.options_with_values,image:r,addOnProducts:a,qty:n.quantity,properties:n.properties,remove:function(){s(this.key)},update:function(t){u(this.key,parseInt(t))}})})),{total:t.items_subtotal_price/100,products:e,note:t.note}}function s(t){var e={};a.y0().then((function(n){console.log(n),n.items.forEach((function(n){var i,r;null!=(null===(i=n.properties)||void 0===i?void 0:i._cartParent)&&t===(null===(r=n.properties)||void 0===r?void 0:r._cartParent)&&(e[n.key]=0)}));var i=n.items.find((function(e){return t===e.key}));e[i.key]=0,fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:e})}).then((function(){a.y0().then((function(t){c(t)}))})).catch((function(t){console.log(t)}))}))}function u(t,e){a.$G(t,{quantity:e}).then((function(t){c(t)}))}function c(t){window.dispatchEvent(new CustomEvent("updateproducts",{detail:{cart:d(t)}})),window.dispatchEvent(new CustomEvent("updatecartcount",{detail:{cartTotal:t.item_count}}))}n(538),a.y0().then((function(t){console.log(t),c(t)})),window.addEventListener("cartUpdate",(function(t){a.Qk(t.target.value)}));var l=n(6486);n(2665),i.Z.plugin(r.Z),i.Z.data("product",(function(t){var e=t.product.variants[0],n=t.product.variants,i=(t.linerSync,function(t,e,i){var r=n.filter((function(e){return e.id===t}))[0],o=0;return e.length>0&&e.forEach((function(t){o+=t.price})),i&&(o+=i),{actualPrice:"$"+(r.price+o)/100,originalPrice:r.compare_at_price?"$"+(r.compare_at_price+o)/100:"",message:""}}),r=function(e){var i=n.filter((function(t){return t.id===e}))[0];return t.product.options.map((function(t,e){return{name:t,value:i.options[e]}}))},o=function(e){return t.linerSync.find((function(t){return t.variantId===e}))||null};return{price:i(e.id,[],!1),submitText:"Add to Cart",disabled:!e.available,button:e.available?"Add to Cart":"Unavailable",addOnProducts:t.addOnProducts,selectedAddOnProducts:[],options:r(e.id),formData:{id:e.id,qty:1},liner:{linerInfo:o(e.id),addLiner:!1},properties:{},checkAddOns:function(t){return this.selectedAddOnProducts.filter((function(e){return e.id===t})).length>0},selectAddon:function(t,e,n){this.selectedAddOnProducts=function(t,e,n){var i=e;return e.filter((function(e){return e.id===t})).length>0?i=e.filter((function(e){return e.id!=t})):i.push({id:t,qty:1,price:n}),i}(t,e,n),this.price=i(this.formData.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice)},increase:function(){this.formData.qty=this.formData.qty+1},decrease:function(){this.formData.qty=this.formData.qty-1==0?1:this.formData.qty-1},updateMonogram:function(t){console.log(t),this.properties=t?{Monogram:t}:{}},onSubmit:function(){var t=this;this.button="Adding...",this.disabled=!0,fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:this.formData.id,quantity:this.formData.qty,properties:this.properties}]})}).then((function(t){return t.json()})).then((function(e){var n=e.items.pop();if(console.log("last cart item",n),console.log("line",t.liner),t.selectedAddOnProducts.length<1&&!t.liner.addLiner)a.y0().then((function(e){c(e),t.button="Add to Cart",t.disabled=!1,t.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}));else{var i=[];t.liner.addLiner&&(console.log("liner"),i.push({id:t.liner.linerInfo.linerId,qty:t.formData.qty,properties:{_cartParent:n.key}})),t.selectedAddOnProducts.length>0&&t.selectedAddOnProducts.forEach((function(t){i.push({id:t.id,qty:1,properties:{_cartParent:n.key}})})),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:i})}).then((function(){a.y0().then((function(e){c(e),t.button="Add to Cart",t.disabled=!1,t.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}))})).catch((function(e){alert("This product is unavailable at the moment"),t.button="Unavailable",t.disabled=!0}))}})).catch((function(e){alert("This product is unavailable at the moment"),t.button="Unavailable",t.disabled=!0}))},addLiner:function(){this.liner.addLiner=!this.liner.addLiner,this.price=i(this.formData.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice)},updateVariant:function(t,e){var a=this.options.map((function(n){return n.name==e?t:n.value})),d=n.filter((function(t){return(0,l.isEqual)(t.options,a)}))[0];this.liner.linerInfo=o(d.id),this.price=i(d.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice),this.formData.id=d.id,this.disabled=!d.available,this.button=d.available?"Add to Cart":"Unavailable",this.options=r(d.id)}}})),i.Z.data("productRepair",(function(t){var e=t.product.variants[0];return{price:t.price,submitText:"Add to Cart",disabled:!e.available,button:e.available?"Add to Cart":"Unavailable",properties:{},formData:{id:e.id,qty:1},onUpdate:function(t,e){this.properties[t]=e},onSubmit:function(){var t=this;this.button="Adding...",this.disabled=!0,fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:this.formData.id,quantity:this.formData.qty,properties:this.properties}]})}).then((function(t){return t.json()})).then((function(e){a.y0().then((function(e){c(e),t.button="Add to Cart",t.disabled=!1,t.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}))})).catch((function(e){alert("This product is unavailable at the moment"),t.button="Unavailable",t.disabled=!0}))},buttonText:"Upload Image",uploading:!1,imageUrl:null,error:"There has been an error uploading",uploadImage:function(){var t=this;this.uploading=!0;var e=this.$refs.imageInput.files[0];if(e)if(e.type.startsWith("image/")){var n=new FormData;n.append("image",e),fetch("https://evening-spire-07221.herokuapp.com/upload",{method:"POST",body:n}).then((function(t){return t.json()})).then((function(e){t.imageUrl=e.imageUrl,t.properties.image_url=e.imageUrl,t.uploading=!1})).catch((function(e){console.error(e),t.uploading=!1,alert("Server error, please try again")}))}else alert("Please select an image file"),this.uploading=!1;else alert("Please select a file"),this.uploading=!1},date:"",formatDate:function(t){return(t=t.replace(/\D/g,"")).length>2&&(t=t.substring(0,2)+"/"+t.substring(2)),t.length>5&&(t=t.substring(0,5)+"/"+t.substring(5)),t}}})),window.Alpine=i.Z,i.Z.start();var p=document.querySelector("#looxReviews");null==p||p.classList.add("scroll-mt-40"),document.getElementById("footer-subscribe").addEventListener("submit",(function(t){t.preventDefault();var e=document.getElementById("footer-subscribe-email");(0,o.L)("XAGAvA",e.value).then((function(t){e.value="",document.querySelector(".email-message").innerHTML="Thank you for signing up!"}))}))},2665:function(){function t(){var t=document.getElementById("header").offsetHeight;document.body.style.setProperty("--header-height","".concat(t,"px"));var e=document.getElementById("footer").offsetHeight;document.body.style.setProperty("--footer-height","".concat(e,"px"));var n=window.innerHeight;document.body.style.setProperty("--window-height","".concat(n,"px"))}t(),window.addEventListener("resize",t)},720:function(){}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=e,t=[],i.O=function(e,n,r,o){if(!n){var a=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],o=t[c][2];for(var d=!0,s=0;s<n.length;s++)(!1&o||a>=o)&&Object.keys(i.O).every((function(t){return i.O[t](n[s])}))?n.splice(s--,1):(d=!1,o<a&&(a=o));if(d){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,r,o]},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},i.j=348,function(){var t={348:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,a=n[0],d=n[1],s=n[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(r in d)i.o(d,r)&&(i.m[r]=d[r]);if(s)var c=s(i)}for(e&&e(n);u<a.length;u++)o=a[u],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(c)},n=self.webpackChunkepicsupreme_shopify=self.webpackChunkepicsupreme_shopify||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),i.O(void 0,[216],(function(){return i(7807)}));var r=i.O(void 0,[216],(function(){return i(720)}));r=i.O(r)}();