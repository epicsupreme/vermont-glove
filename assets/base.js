!function(){var e,t={2276:function(e,t,n){"use strict";var r=n(4306),i=n(8764),o=n(1711),a=n(5931);function s(e){var t=[];return e.items&&e.items.forEach((function(n){var r,i=n.featured_image.url,o=n.price/100,s=e.items.map((function(e){var t;return(null===(t=e.properties)||void 0===t?void 0:t._cartParent)===n.key&&{title:e.product_title,key:e.key,price:e.price/100,id:e.variant_id,options:e.options_with_values,image:e.featured_image.url,qty:e.quantity,properties:e.properties,remove:function(){d(this.key)},update:function(e){c(this.key,parseInt(e))}}})).filter((function(e){return e}));null!==(r=n.properties)&&void 0!==r&&r._cartParent||t.push({title:n.product_title,key:n.key,price:o,id:n.variant_id,options:n.options_with_values,propertiesArray:n.properties?Object.entries(n.properties):null,image:i,addOnProducts:s,qty:n.quantity,remove:function(){d(this.key)},updateProperties:function(){!function(e,t){a.$G(e,{properties:t}).then((function(e){u(e)}))}(this.key,this.newProperties)},update:function(e){c(this.key,parseInt(e))}})})),{total:e.items_subtotal_price/100,products:t,note:e.note}}function d(e){var t={};a.y0().then((function(n){console.log(n),n.items.forEach((function(n){var r,i;null!=(null===(r=n.properties)||void 0===r?void 0:r._cartParent)&&e===(null===(i=n.properties)||void 0===i?void 0:i._cartParent)&&(t[n.key]=0)}));var r=n.items.find((function(t){return e===t.key}));t[r.key]=0,fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:t})}).then((function(){a.y0().then((function(e){u(e)}))})).catch((function(e){console.log(e)}))}))}function c(e,t){a.$G(e,{quantity:t}).then((function(e){u(e)}))}function u(e){window.dispatchEvent(new CustomEvent("updateproducts",{detail:{cart:s(e)}})),window.dispatchEvent(new CustomEvent("updatecartcount",{detail:{cartTotal:e.item_count}}))}n(538),a.y0().then((function(e){u(e)})),window.addEventListener("cartUpdate",(function(e){a.Qk(e.target.value)}));var l=n(6486),p=n(3311);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2665);var m=new p.aN({apiKey:"AIzaSyCnwNJFrWDA3y5YFeYXHDRifHIvlX9QQHc",version:"weekly",libraries:["places"]});function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.Z.plugin(i.Z),r.Z.data("product",(function(e){var t=e.product.variants[0],n=e.product.variants,r=(e.linerSync,function(e,t,r){var i=n.filter((function(t){return t.id===e}))[0],o=0;return t.length>0&&t.forEach((function(e){o+=e.price})),r&&(o+=r),{actualPrice:"$"+(i.price+o)/100,originalPrice:i.compare_at_price?"$"+(i.compare_at_price+o)/100:"",message:""}}),i=function(t){var r=n.filter((function(e){return e.id===t}))[0];return e.product.options.map((function(e,t){return{name:e,value:r.options[t]}}))},o=function(t){return e.linerSync.find((function(e){return e.variantId===t}))||null};return{price:r(t.id,[],!1),submitText:"Add to Cart",disabled:!t.available,button:t.available?"Add to Cart":"Unavailable",addOnProducts:e.addOnProducts,selectedAddOnProducts:[],options:i(t.id),formData:{id:t.id,qty:1},liner:{linerInfo:o(t.id),addLiner:!1},properties:{},checkAddOns:function(e){return this.selectedAddOnProducts.filter((function(t){return t.id===e})).length>0},selectAddon:function(e,t,n){this.selectedAddOnProducts=function(e,t,n){var r=t;return t.filter((function(t){return t.id===e})).length>0?r=t.filter((function(t){return t.id!=e})):r.push({id:e,qty:1,price:n}),r}(e,t,n),this.price=r(this.formData.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice)},increase:function(){this.formData.qty=this.formData.qty+1},decrease:function(){this.formData.qty=this.formData.qty-1==0?1:this.formData.qty-1},updateMonogram:function(e){console.log(e),this.properties=e?{Monogram:e}:{}},onSubmit:function(){var e=this;this.button="Adding...",this.disabled=!0,fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:this.formData.id,quantity:this.formData.qty,properties:this.properties}]})}).then((function(e){return e.json()})).then((function(t){var n=t.items.pop();if(console.log("last cart item",n),console.log("line",e.liner),e.selectedAddOnProducts.length<1&&!e.liner.addLiner)a.y0().then((function(t){u(t),e.button="Add to Cart",e.disabled=!1,e.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}));else{var r=[];e.liner.addLiner&&(console.log("liner"),r.push({id:e.liner.linerInfo.linerId,qty:e.formData.qty,properties:{_cartParent:n.key}})),e.selectedAddOnProducts.length>0&&e.selectedAddOnProducts.forEach((function(e){r.push({id:e.id,qty:1,properties:{_cartParent:n.key}})})),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:r})}).then((function(){a.y0().then((function(t){u(t),e.button="Add to Cart",e.disabled=!1,e.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}))})).catch((function(t){alert("This product is unavailable at the moment"),e.button="Unavailable",e.disabled=!0}))}})).catch((function(t){alert("This product is unavailable at the moment"),e.button="Unavailable",e.disabled=!0}))},addLiner:function(){this.liner.addLiner=!this.liner.addLiner,this.price=r(this.formData.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice)},updateVariant:function(e,t){var a=this.options.map((function(n){return n.name==t?e:n.value})),s=n.filter((function(e){return(0,l.isEqual)(e.options,a)}))[0];if(void 0!==s){this.liner.linerInfo=o(s.id),this.price=r(s.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice),this.formData.id=s.id,this.options=i(s.id),this.disabled=!s.available,this.button=s.available?"Add to Cart":"Unavailable";var d=document.querySelector('[data-variants*="'.concat(s.id,'"'));d&&window.proudctSwiper.slideTo(parseInt(d.getAttribute("data-swiper-slide-index"))+1)}else this.disabled=!0,this.button="Unavailable"}}})),r.Z.data("productRepair",(function(e){var t=e.product.variants[0],n=new p.aN({apiKey:"AIzaSyCnwNJFrWDA3y5YFeYXHDRifHIvlX9QQHc",version:"weekly",libraries:["places"]});return{price:e.price,submitText:"Add to Cart",disabled:!t.available,button:t.available?"Add to Cart":"Unavailable",properties:{"Shipping Address":""},formData:{id:t.id,qty:1},init:function(){var e=this;n.load().then((function(){var t=new google.maps.places.Autocomplete(e.$refs.address,{types:["geocode"]});t.addListener("place_changed",(function(){var n=t.getPlace();console.log(n.formatted_address),e.properties["Shipping Address"]=n.formatted_address}))}))},onUpdate:function(e,t){this.properties[e]=t},onSubmit:function(){var e=this;this.button="Adding...",this.disabled=!0,fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:this.formData.id,quantity:this.formData.qty,properties:this.properties}]})}).then((function(e){return e.json()})).then((function(t){a.y0().then((function(t){u(t),e.button="Add to Cart",e.disabled=!1,e.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}))})).catch((function(t){alert("This product is unavailable at the moment"),e.button="Unavailable",e.disabled=!0}))},buttonText:"Upload Image",uploading:!1,imageUrl:null,error:"There has been an error uploading",uploadImage:function(){var e=this;this.uploading=!0;var t=this.$refs.imageInput.files[0];if(t)if(t.type.startsWith("image/")){var n=new FormData;n.append("image",t),fetch("https://evening-spire-07221.herokuapp.com/upload",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){e.imageUrl=t.imageUrl,e.properties.image_url=t.imageUrl,e.uploading=!1})).catch((function(t){console.error(t),e.uploading=!1,alert("Server error, please try again")}))}else alert("Please select an image file"),this.uploading=!1;else alert("Please select a file"),this.uploading=!1},date:"",formatDate:function(e){return(e=e.replace(/\D/g,"")).length>2&&(e=e.substring(0,2)+"/"+e.substring(2)),e.length>5&&(e=e.substring(0,5)+"/"+e.substring(5)),e}}})),r.Z.data("repairPopups",(function(){return{products:[],showRepair:null,init:function(){this.updateRepairPopups()},uploadImage:function(e){var t=this;this.uploading=!0;var n=this.$refs.imageInput.files[0];if(n)if(n.type.startsWith("image/")){var r=new FormData;r.append("image",n),fetch("https://evening-spire-07221.herokuapp.com/upload",{method:"POST",body:r}).then((function(e){return e.json()})).then((function(e){console.log(e),console.log(t.properties),t.imageUrl=e.imageUrl,t.newProperties=h(h({},t.newProperties),{},{image_url:e.imageUrl}),t.uploading=!1})).catch((function(e){console.error(e),t.uploading=!1,alert("Server error, please try again")}))}else alert("Please select an image file"),this.uploading=!1;else alert("Please select a file"),this.uploading=!1},updateRepairPopups:function(){var e=this;a.y0().then((function(t){t.items&&(e.products=t.items.map((function(e){return h(h({},e),{},{updatedProperties:e.properties})})),e.$nextTick((function(){m.load().then((function(){var t=new google.maps.places.Autocomplete(e.$refs.address,{types:["geocode"]}),n=document.querySelectorAll(".repair-edit-address");null==n||n.forEach((function(n){t.addListener((function(n,r){var i=t.getPlace();e.products[r].updatedProperties=h(h({},e.products[r].updatedProperties),{},{"Shipping Address":i.formatted_address})}))}))}))})))}))},updateProperty:function(e,t,n){}}})),r.Z.data("singleRepairPopup",(function(e){console.log("singleRepair",e);var t=new p.aN({apiKey:"AIzaSyCnwNJFrWDA3y5YFeYXHDRifHIvlX9QQHc",version:"weekly",libraries:["places"]});return{properties:e.properties,updatedProperties:e.properties,buttonText:"Upload Image",uploading:!1,imageUrl:null,error:"There has been an error uploading",init:function(){var n=this;console.log("product",e),t.load().then((function(){var e=new google.maps.places.Autocomplete(n.$refs.address,{types:["geocode"]});e.addListener("place_changed",(function(){var t=e.getPlace();n.updatedProperties=y(y({},n.updatedProperties),{},{"Shipping Address":t.formatted_address})}))}))},updateRepair:function(){a.$G(key,{properties:updatedProperties}).then((function(e){cartUpdateAll(e)}))},uploadImage:function(){var e=this;this.uploading=!0;var t=this.$refs.imageInput.files[0];if(t)if(t.type.startsWith("image/")){var n=new FormData;n.append("image",t),fetch("https://evening-spire-07221.herokuapp.com/upload",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){console.log(t),console.log(e.properties),e.imageUrl=t.imageUrl,e.newProperties=y(y({},e.newProperties),{},{image_url:t.imageUrl}),e.uploading=!1})).catch((function(t){console.error(t),e.uploading=!1,alert("Server error, please try again")}))}else alert("Please select an image file"),this.uploading=!1;else alert("Please select a file"),this.uploading=!1}}})),window.Alpine=r.Z,r.Z.start();var w=document.querySelector("#looxReviews");null==w||w.classList.add("scroll-mt-40"),document.getElementById("footer-subscribe").addEventListener("submit",(function(e){e.preventDefault();var t=document.getElementById("footer-subscribe-email");(0,o.L)("XAGAvA",t.value).then((function(e){t.value="",document.querySelector(".email-message").innerHTML="Thank you for signing up!"}))}))},2665:function(){function e(){var e=document.getElementById("header").offsetHeight;document.body.style.setProperty("--header-height","".concat(e,"px"));var t=document.getElementById("footer").offsetHeight;document.body.style.setProperty("--footer-height","".concat(t,"px"));var n=window.innerHeight;document.body.style.setProperty("--window-height","".concat(n,"px"))}e(),window.addEventListener("resize",e)},720:function(){}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=function(t,n,i,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var s=!0,d=0;d<n.length;d++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[d])}))?n.splice(d--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.j=348,function(){var e={348:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],s=n[1],d=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(d)var u=d(r)}for(t&&t(n);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunkepicsupreme_shopify=self.webpackChunkepicsupreme_shopify||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),r.O(void 0,[216],(function(){return r(2276)}));var i=r.O(void 0,[216],(function(){return r(720)}));i=r.O(i)}();