!function(){var e,t={6693:function(e,t,i){"use strict";var r=i(1250),o=i(8678),a=i(2687),s=i(7308);function n(e){let t=[];return e.items&&e.items.forEach((i=>{let r=i.featured_image.url;const o=i.price/100,a=e.items.map((e=>e.properties?._cartParent===i.key&&{title:e.product_title,key:e.key,price:e.price/100,id:e.variant_id,options:e.options_with_values,image:e.featured_image.url,qty:e.quantity,properties:e.properties,remove(){d(this.key)},update(e){l(this.key,parseInt(e))}})).filter((e=>e));i.properties?._cartParent||t.push({title:i.product_title,key:i.key,price:o,id:i.variant_id,options:i.options_with_values,propertiesArray:i.properties?Object.entries(i.properties):null,image:r,addOnProducts:a,qty:i.quantity,remove(){d(this.key)},updateProperties(){!function(e,t){s.fk(e,{properties:t}).then((e=>{p(e)}))}(this.key,this.newProperties)},update(e){l(this.key,parseInt(e))}})})),{total:e.items_subtotal_price/100,products:t,note:e.note}}function d(e){let t={};s.Gu().then((i=>{console.log(i),i.items.forEach((i=>{null!=i.properties?._cartParent&&e===i.properties?._cartParent&&(t[i.key]=0)}));const r=i.items.find((t=>e===t.key));t[r.key]=0,fetch(window.Shopify.routes.root+"cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:t})}).then((()=>{s.Gu().then((e=>{p(e)}))})).catch((e=>{console.log(e)}))}))}function l(e,t){s.fk(e,{quantity:t}).then((e=>{p(e)}))}function p(e){window.dispatchEvent(new CustomEvent("updateproducts",{detail:{cart:n(e)}})),window.dispatchEvent(new CustomEvent("updatecartcount",{detail:{cartTotal:e.item_count}}))}i(6104),s.Gu().then((e=>{p(e)})),window.addEventListener("cartUpdate",(e=>{s.w3(e.target.value)}));var c=i(4590),u=i(294);i(5658);const h=new u.aH({apiKey:"AIzaSyCd-_6-0-HRNhoopifhM5olBJITPsZAjI8",version:"weekly",libraries:["places"]});r.A.plugin(o.A),r.A.data("product",(e=>{const t=e.product.variants[0],i=e.product.variants,r=(e.linerSync,(e,t,r)=>{const o=i.filter((t=>t.id===e))[0];let a=0;return t.length>0&&t.forEach((e=>{a+=e.price})),r&&(a+=r),{actualPrice:"$"+(o.price+a)/100,originalPrice:o.compare_at_price?"$"+(o.compare_at_price+a)/100:"",message:""}}),o=t=>{const r=i.filter((e=>e.id===t))[0];return e.product.options.map(((e,t)=>({name:e,value:r.options[t]})))},a=t=>e.linerSync.find((e=>e.variantId===t))||null;return{price:r(t.id,[],!1),submitText:"Add to Cart",disabled:!t.available,button:t.available?"Add to Cart":"Unavailable",addOnProducts:e.addOnProducts,selectedAddOnProducts:[],options:o(t.id),formData:{id:t.id,qty:1},liner:{linerInfo:a(t.id),addLiner:!1},properties:{},checkAddOns(e){return this.selectedAddOnProducts.filter((t=>t.id===e)).length>0},selectAddon(e,t,i){this.selectedAddOnProducts=((e,t,i)=>{let r=t;return t.filter((t=>t.id===e)).length>0?r=t.filter((t=>t.id!=e)):r.push({id:e,qty:1,price:i}),r})(e,t,i),this.price=r(this.formData.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice)},increase(){this.formData.qty=this.formData.qty+1},decrease(){this.formData.qty=this.formData.qty-1==0?1:this.formData.qty-1},updateMonogram(e){console.log(e),this.properties=e?{Monogram:e}:{}},onSubmit(){this.button="Adding...",this.disabled=!0,fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:this.formData.id,quantity:this.formData.qty,properties:this.properties}]})}).then((e=>e.json())).then((e=>{const t=e.items.pop();if(console.log("last cart item",t),console.log("line",this.liner),this.selectedAddOnProducts.length<1&&!this.liner.addLiner)s.Gu().then((e=>{p(e),this.button="Add to Cart",this.disabled=!1,this.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}));else{const e=[];this.liner.addLiner&&(console.log("liner"),e.push({id:this.liner.linerInfo.linerId,qty:this.formData.qty,properties:{_cartParent:t.key}})),this.selectedAddOnProducts.length>0&&this.selectedAddOnProducts.forEach((i=>{e.push({id:i.id,qty:1,properties:{_cartParent:t.key}})})),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})}).then((()=>{s.Gu().then((e=>{p(e),this.button="Add to Cart",this.disabled=!1,this.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}))})).catch((e=>{alert("This product is unavailable at the moment"),this.button="Unavailable",this.disabled=!0}))}})).catch((e=>{alert("This product is unavailable at the moment"),this.button="Unavailable",this.disabled=!0}))},addLiner(){this.liner.addLiner=!this.liner.addLiner,this.price=r(this.formData.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice)},updateVariant(e,t){const s=this.options.map((i=>i.name==t?e:i.value)),n=i.filter((e=>(0,c.isEqual)(e.options,s)))[0];if(void 0!==n){this.liner.linerInfo=a(n.id),this.price=r(n.id,this.selectedAddOnProducts,!!this.liner.addLiner&&this.liner.linerInfo.linerPrice),this.formData.id=n.id,this.options=o(n.id),this.disabled=!n.available,this.button=n.available?"Add to Cart":"Unavailable";const e=document.querySelector(`[data-variants*="${n.id}"`);e&&window.proudctSwiper.slideTo(parseInt(e.getAttribute("data-swiper-slide-index"))+1)}else this.disabled=!0,this.button="Unavailable"}}})),r.A.data("productRepair",(e=>{const t=e.product.variants[0];return new u.aH({apiKey:"AIzaSyCd-_6-0-HRNhoopifhM5olBJITPsZAjI8",version:"weekly",libraries:["places"]}),{price:e.price,submitText:"Add to Cart",disabled:!t.available,button:t.available?"Add to Cart":"Unavailable",properties:{},formData:{id:t.id,qty:1},init(){},onUpdate(e,t){this.properties[e]=t},onSubmit(){this.button="Adding...",this.disabled=!0,fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:this.formData.id,quantity:this.formData.qty,properties:this.properties}]})}).then((e=>e.json())).then((e=>{s.Gu().then((e=>{p(e),this.button="Add to Cart",this.disabled=!1,this.selectedAddOnProducts=[],window.dispatchEvent(new CustomEvent("updatecartstatus",{detail:{cartOpen:!0}}))}))})).catch((e=>{alert("This product is unavailable at the moment"),this.button="Unavailable",this.disabled=!0}))},buttonText:"Upload Image",uploading:!1,imageUrl:null,error:"There has been an error uploading",uploadImage(){this.uploading=!0;const e=this.$refs.imageInput.files[0];if(e)if(e.type.startsWith("image/")){const t=new FormData;t.append("image",e),fetch("https://evening-spire-07221.herokuapp.com/upload",{method:"POST",body:t}).then((e=>e.json())).then((e=>{this.imageUrl=e.imageUrl,this.properties.image_url=e.imageUrl,this.uploading=!1})).catch((e=>{console.error(e),this.uploading=!1,alert("Server error, please try again")}))}else alert("Please select an image file"),this.uploading=!1;else alert("Please select a file"),this.uploading=!1},date:"",formatDate(e){return(e=e.replace(/\D/g,"")).length>2&&(e=e.substring(0,2)+"/"+e.substring(2)),e.length>5&&(e=e.substring(0,5)+"/"+e.substring(5)),e}}})),r.A.data("repairPopups",(()=>({products:[],showRepair:null,init(){this.updateRepairPopups()},uploadImage(e){this.uploading=!0;const t=this.$refs.imageInput.files[0];if(t)if(t.type.startsWith("image/")){const e=new FormData;e.append("image",t),fetch("https://evening-spire-07221.herokuapp.com/upload",{method:"POST",body:e}).then((e=>e.json())).then((e=>{console.log(e),console.log(this.properties),this.imageUrl=e.imageUrl,this.newProperties={...this.newProperties,image_url:e.imageUrl},this.uploading=!1})).catch((e=>{console.error(e),this.uploading=!1,alert("Server error, please try again")}))}else alert("Please select an image file"),this.uploading=!1;else alert("Please select a file"),this.uploading=!1},updateRepairPopups(){s.Gu().then((e=>{e.items&&(this.products=e.items.map((e=>({...e,updatedProperties:e.properties}))),this.$nextTick((()=>{h.load().then((()=>{const e=new google.maps.places.Autocomplete(this.$refs.address,{types:["geocode"]}),t=document.querySelectorAll(".repair-edit-address");t?.forEach((t=>{e.addListener(((t,i)=>{const r=e.getPlace();this.products[i].updatedProperties={...this.products[i].updatedProperties,"Shipping Address":r.formatted_address}}))}))}))})))}))},updateProperty(e,t,i){}}))),r.A.data("singleRepairPopup",(e=>{console.log("singleRepair",e);const t=new u.aH({apiKey:"AIzaSyCnwNJFrWDA3y5YFeYXHDRifHIvlX9QQHc",version:"weekly",libraries:["places"]});return{properties:e.properties,updatedProperties:e.properties,buttonText:"Upload Image",uploading:!1,imageUrl:null,error:"There has been an error uploading",init(){console.log("product",e),t.load().then((()=>{const e=new google.maps.places.Autocomplete(this.$refs.address,{types:["geocode"]});e.addListener("place_changed",(()=>{const t=e.getPlace();this.updatedProperties={...this.updatedProperties,"Shipping Address":t.formatted_address}}))}))},updateRepair(){s.fk(key,{properties:updatedProperties}).then((e=>{cartUpdateAll(e)}))},uploadImage(){this.uploading=!0;const e=this.$refs.imageInput.files[0];if(e)if(e.type.startsWith("image/")){const t=new FormData;t.append("image",e),fetch("https://evening-spire-07221.herokuapp.com/upload",{method:"POST",body:t}).then((e=>e.json())).then((e=>{console.log(e),console.log(this.properties),this.imageUrl=e.imageUrl,this.newProperties={...this.newProperties,image_url:e.imageUrl},this.uploading=!1})).catch((e=>{console.error(e),this.uploading=!1,alert("Server error, please try again")}))}else alert("Please select an image file"),this.uploading=!1;else alert("Please select a file"),this.uploading=!1}}})),window.Alpine=r.A,r.A.start();const m=document.querySelector("#looxReviews");m?.classList.add("scroll-mt-40"),document.getElementById("footer-subscribe").addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("footer-subscribe-email");(0,a.B)("XAGAvA",t.value).then((e=>{t.value="",document.querySelector(".email-message").innerHTML="Thank you for signing up!"}))}))},5658:function(){function e(){const e=document.getElementById("header").offsetHeight;document.body.style.setProperty("--header-height",`${e}px`);const t=document.getElementById("footer").offsetHeight;document.body.style.setProperty("--footer-height",`${t}px`);const i=window.innerHeight;document.body.style.setProperty("--window-height",`${i}px`)}e(),window.addEventListener("resize",e)},6503:function(){}},i={};function r(e){var o=i[e];if(void 0!==o)return o.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=function(t,i,o,a){if(!i){var s=1/0;for(p=0;p<e.length;p++){i=e[p][0],o=e[p][1],a=e[p][2];for(var n=!0,d=0;d<i.length;d++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](i[d])}))?i.splice(d--,1):(n=!1,a<s&&(s=a));if(n){e.splice(p--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[i,o,a]},r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.j=152,function(){var e={152:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,a,s=i[0],n=i[1],d=i[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in n)r.o(n,o)&&(r.m[o]=n[o]);if(d)var p=d(r)}for(t&&t(i);l<s.length;l++)a=s[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(p)},i=self.webpackChunkepicsupreme_shopify=self.webpackChunkepicsupreme_shopify||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),r.O(void 0,[96],(function(){return r(6693)}));var o=r.O(void 0,[96],(function(){return r(6503)}));o=r.O(o)}();